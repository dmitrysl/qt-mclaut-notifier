#sudo: false

language: cpp

compiler:
    - gcc

env:
    - QT_BASE=53
    - QT_BASE=54

before_install:
#    - sudo add-apt-repository --yes ppa:ubuntu-sdk-team/pp
    - if [ "$CXX" = "g++" ]; then sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y; fi
    - if [ "$QT_BASE" = "53" ]; then sudo add-apt-repository ppa:beineri/opt-qt532 -y; fi
    - if [ "$QT_BASE" = "54" ]; then sudo add-apt-repository ppa:beineri/opt-qt541 -y; fi
    - sudo apt-get update -qq
#    - sudo apt-get install -qq qt5-qmake qtbase5-dev qtdeclarative5-dev libqt5webkit5-dev libsqlite3-dev
#    - export QMAKE=/usr/lib/x86_64-linux-gnu/qt5/bin/qmake

install:
    - if [ "$CXX" = "g++" ]; then sudo apt-get install -qq g++ gcc; export CXX="g++" CC="gcc"; $CXX --version; fi
    - if [ "$QT_BASE" = "53" ]; then sudo apt-get install -qq qt53base; source /opt/qt53/bin/qt53-env.sh; fi
    - if [ "$QT_BASE" = "54" ]; then sudo apt-get install -qq qt54base; source /opt/qt54/bin/qt54-env.sh; fi

script:
#    - qmake -qt=qt5 -v
#    - qmake -qt=qt5
    - qmake -r
    - make check
